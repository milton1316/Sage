(this.webpackJsonpsage=this.webpackJsonpsage||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),l=(a(99),a(159)),s=a(164),c=a(158),m=a(80),u=a(14),d=a(12),h=a(16),v=a(17),p=a(13),E=a(18),b=a(160),f=a(172),g=a(161),y=a(169),C=a(155),S=a(170),x=a(162),j=a(156),k=a(163),O=a(157),T=a(167),P=a(47),M=a.n(P),N=a(147),V=a(154),w=a(171),W=a(148),D=a(116),A=a(149),L=a(150),q=a(151),F=a(152),J=a(153),z=a(78),B=a.n(z),I=a(77),G=a.n(I),H=a(20),R=a(79),X=a(15),Y=a(166),K=a(55),Q=a.n(K),U=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(N.a,{container:!0},r.a.createElement(W.a,{component:D.a,style:{height:"300px",overflowX:"hidden",overflowY:"auto"}},r.a.createElement(A.a,{stickyHeader:!0},r.a.createElement(L.a,null,r.a.createElement(q.a,null,r.a.createElement(F.a,null,"Nome"),r.a.createElement(F.a,null,"Sobrenome"),r.a.createElement(F.a,null,"CPF"),r.a.createElement(F.a,{style:{width:100}},"A\xe7\xf5es"))),r.a.createElement(J.a,null,this.props.clientes.map(function(e){var t=this;return r.a.createElement(q.a,{key:e.id},r.a.createElement(F.a,null,e.nome),r.a.createElement(F.a,null,e.sobrenome),r.a.createElement(F.a,null,e.cpf),r.a.createElement(F.a,null,r.a.createElement(V.a,{color:"primary",onClick:function(){return t.props.editar(e)}},r.a.createElement(G.a,null)),r.a.createElement(V.a,{color:"secondary",onClick:function(){return t.props.excluir(e.id)}},r.a.createElement(B.a,null))))}.bind(this))))),r.a.createElement(N.a,{container:!0,spacing:2,style:{marginTop:"20px"}},r.a.createElement(N.a,{item:!0,md:12,xs:12},r.a.createElement(C.a,{color:"primary",variant:"contained",onClick:this.props.novo,style:{float:"right"}},"Novo"))))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={id:e.cliente.id?e.cliente.id:0,nome:e.cliente.nome?e.cliente.nome:"",sobrenome:e.cliente.sobrenome?e.cliente.sobrenome:"",cpf:e.cliente.cpf?e.cliente.cpf:"",dataNascimento:e.cliente.dataNascimento?e.cliente.dataNascimento:new Date,estadoCivil:e.cliente.estadoCivil?e.cliente.estadoCivil:0,endereco:e.cliente.endereco?e.cliente.endereco:{}},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"proximo",value:function(){var e=Object.assign(this.state);this.props.irParaStep(2,this.props.obter(e))}},{key:"render",value:function(){var e=this;return r.a.createElement(H.ValidatorForm,{onSubmit:this.proximo.bind(this)},r.a.createElement(N.a,{container:!0,direction:"row"},r.a.createElement(N.a,{item:!0,md:12,xs:12},r.a.createElement(N.a,{container:!0,style:{marginTop:"20px"}},r.a.createElement(N.a,{item:!0,md:12},r.a.createElement("input",{type:"hidden",value:this.state.id,ref:function(t){return e.id=t}}),r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,md:4,sm:12},r.a.createElement(H.TextValidator,{label:"Nome",variant:"outlined",fullWidth:!0,value:this.state.nome,onChange:function(t){return e.setState({nome:t.target.value})},validators:["required","minStringLength:2"],errorMessages:["Campo obrigat\xf3rio","Deve ter no minimo 2 caracteres"]})),r.a.createElement(N.a,{item:!0,md:8,sm:12},r.a.createElement(H.TextValidator,{label:"Sobrenome",variant:"outlined",fullWidth:!0,value:this.state.sobrenome,onChange:function(t){return e.setState({sobrenome:t.target.value})}}))),r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,md:4,sm:12},r.a.createElement(Q.a,{mask:"999.999.999-99",value:this.state.cpf,onChange:function(t){return e.setState({cpf:t.target.value})}},r.a.createElement(H.TextValidator,{label:"CPF",variant:"outlined",fullWidth:!0,validators:["required"],errorMessages:["Campo obrigat\xf3rio"]}))),r.a.createElement(N.a,{item:!0,md:4,sm:12},r.a.createElement(H.TextValidator,{label:"Estado civil",variant:"outlined",select:!0,fullWidth:!0,defaultValue:0,value:this.state.estadoCivil,validators:["minNumber:1"],errorMessages:["Campo obrigat\xf3rio"],onChange:function(t){return e.setState({estadoCivil:t.target.value})}},r.a.createElement(w.a,{key:0,value:0},"Selecione"),r.a.createElement(w.a,{key:1,value:1},"Solteiro"),r.a.createElement(w.a,{key:2,value:2},"Casado"))),r.a.createElement(N.a,{item:!0,md:4,sm:12},r.a.createElement(X.a,{utils:R.a},r.a.createElement(Y.a,{variant:"outlined",margin:"dense",autoOk:!0,format:"dd/MM/yyyy",label:"Data de nascimento",fullWidth:!0,value:this.state.dataNascimento,onChange:function(t){return e.setState({dataNascimento:t})}}))))))),r.a.createElement(N.a,{item:!0,md:12,xs:12,style:{marginTop:"20px"}},r.a.createElement(N.a,{container:!0,direction:"row"},r.a.createElement(N.a,{item:!0,md:6},r.a.createElement(C.a,{color:"primary",variant:"contained",onClick:function(){return e.props.irParaStep(0)}},"Anterior")),r.a.createElement(N.a,{item:!0,md:6},r.a.createElement(C.a,{type:"submit",color:"primary",variant:"contained",style:{float:"right"}},"Pr\xf3ximo"))))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={id:e.endereco.id?e.endereco.id:0,cep:e.endereco.cep?e.endereco.cep:"",estado:e.endereco.estado?e.endereco.estado:0,cidade:e.endereco.cidade?e.endereco.cidade:"",bairro:e.endereco.bairro?e.endereco.bairro:"",logradouro:e.endereco.logradouro?e.endereco.logradouro:"",numero:e.endereco.numero?e.endereco.numero:""},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"salvar",value:function(){var e=Object.assign(this.state);this.props.obter(e),this.props.salvar()}},{key:"render",value:function(){var e=this;return r.a.createElement(H.ValidatorForm,{onSubmit:this.salvar.bind(this)},r.a.createElement(N.a,{container:!0,direction:"row"},r.a.createElement(N.a,{item:!0,md:12,xs:12},r.a.createElement(N.a,{container:!0,style:{marginTop:"20px"}},r.a.createElement(N.a,{item:!0,md:12},r.a.createElement("input",{type:"hidden",value:this.state.id,ref:function(t){return e.id=t}}),r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,md:3,sm:12},r.a.createElement(Q.a,{mask:"99999-999",value:this.state.cep,onChange:function(t){return e.setState({cep:t.target.value})}},r.a.createElement(H.TextValidator,{label:"CEP",variant:"outlined",fullWidth:!0,validators:["required"],errorMessages:["Campo obrigat\xf3rio"]}))),r.a.createElement(N.a,{item:!0,md:3,sm:12},r.a.createElement(H.TextValidator,{label:"Estado",variant:"outlined",select:!0,fullWidth:!0,value:this.state.estado,onChange:function(t){return e.setState({estado:t.target.value})},validators:["minNumber:1"],errorMessages:["Campo obrigat\xf3rio"]},r.a.createElement(w.a,{key:0,value:0},"Selecione"),r.a.createElement(w.a,{key:1,value:1},"S\xe3o Paulo"),r.a.createElement(w.a,{key:2,value:2},"Rio de Janeiro"))),r.a.createElement(N.a,{item:!0,md:3,sm:12},r.a.createElement(H.TextValidator,{label:"Cidade",variant:"outlined",fullWidth:!0,value:this.state.cidade,onChange:function(t){return e.setState({cidade:t.target.value})},validators:["required","minStringLength:2"],errorMessages:["Campo obrigat\xf3rio","Deve ter no minimo 2 caracteres"]})),r.a.createElement(N.a,{item:!0,md:3,sm:12},r.a.createElement(H.TextValidator,{label:"Bairro",variant:"outlined",fullWidth:!0,value:this.state.bairro,onChange:function(t){return e.setState({bairro:t.target.value})},validators:["required","minStringLength:2"],errorMessages:["Campo obrigat\xf3rio","Deve ter no minimo 2 caracteres"]}))),r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,md:10,sm:12},r.a.createElement(H.TextValidator,{label:"Logradouro",variant:"outlined",fullWidth:!0,value:this.state.logradouro,onChange:function(t){return e.setState({logradouro:t.target.value})},validators:["required","minStringLength:2"],errorMessages:["Campo obrigat\xf3rio","Deve ter no minimo 2 caracteres"]})),r.a.createElement(N.a,{item:!0,md:2,sm:12},r.a.createElement(H.TextValidator,{label:"Numero",variant:"outlined",fullWidth:!0,value:this.state.numero,onChange:function(t){return e.setState({numero:t.target.value})}})))))),r.a.createElement(N.a,{item:!0,md:12,style:{marginTop:"20px"}},r.a.createElement(N.a,{container:!0,direction:"row"},r.a.createElement(N.a,{item:!0,md:6},r.a.createElement(C.a,{color:"primary",variant:"contained",onClick:function(){return e.props.irParaStep(1)}},"Anterior")),r.a.createElement(N.a,{item:!0,md:6},r.a.createElement(C.a,{type:"submit",color:"primary",variant:"contained",style:{float:"right"}},"Salvar"))))))}}]),t}(n.Component),_=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(v.a)(t).call(this))).state={stepAtivo:0,clientes:[],mensagem:{visivel:!1,conteudo:"",classCss:"info"},exclusao:!1},e.cliente={},e.novo=e.novo.bind(Object(p.a)(e)),e.listar=e.listar.bind(Object(p.a)(e)),e.editar=e.editar.bind(Object(p.a)(e)),e.salvar=e.salvar.bind(Object(p.a)(e)),e.excluir=e.excluir.bind(Object(p.a)(e)),e.confirmarExclusao=e.confirmarExclusao.bind(Object(p.a)(e)),e.obterCliente=e.obterCliente.bind(Object(p.a)(e)),e.obterEndereco=e.obterEndereco.bind(Object(p.a)(e)),e.limparMensagem=e.limparMensagem.bind(Object(p.a)(e)),e.irParaStep=e.irParaStep.bind(Object(p.a)(e)),e}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.listar()}},{key:"listar",value:function(){M.a.ajax({url:"http://localhost:8000/api/clientes",dataType:"json",success:function(e){this.setState({clientes:e})}.bind(this)})}},{key:"irParaStep",value:function(e,t){this.setState({stepAtivo:e}),void 0!==t&&t()}},{key:"limparMensagem",value:function(){this.setState({mensagem:{visivel:!1,conteudo:"",classCss:"info"}})}},{key:"novo",value:function(){this.cliente={},this.limparMensagem(),this.irParaStep(1)}},{key:"editar",value:function(e){this.cliente=e,this.limparMensagem(),this.irParaStep(1)}},{key:"salvar",value:function(){this.cliente.id?this.atualizar():this.incluir()}},{key:"incluir",value:function(){M.a.ajax({url:"http://localhost:8000/api/clientes",contentType:"application/json",dataType:"json",type:"post",data:JSON.stringify(this.cliente),success:function(e){var t=this.state.clientes;t.push(e),this.setState({clientes:t,mensagem:{visivel:!0,conteudo:"Cliente cadastrado com sucesso!",classCss:"success"}}),this.cliente={},this.irParaStep(0)}.bind(this),error:function(e){console.log(e),this.setState({mensagem:{visivel:!0,conteudo:"Ocorreu erro(s) ao tentar cadastrar um cliente!",classCss:"error"}})}.bind(this)})}},{key:"atualizar",value:function(){M.a.ajax({url:"http://localhost:8000/api/clientes/"+this.cliente.id,contentType:"application/json",dataType:"json",type:"put",data:JSON.stringify(this.cliente),success:function(e){var t=this.state.clientes,a=t.findIndex((function(t){return t.id===e.id}));t[a]=e,this.setState({clientes:t,mensagem:{visivel:!0,conteudo:"Cliente alterado com sucesso!",classCss:"success"}}),this.cliente={},this.irParaStep(0)}.bind(this),error:function(e){console.log(e),this.setState({mensagem:{visivel:!0,conteudo:"Ocorreu erro(s) ao tentar alterar um cliente!",classCss:"error"}})}.bind(this)})}},{key:"excluir",value:function(e){this.cliente.id=e,this.setState({exclusao:!0})}},{key:"confirmarExclusao",value:function(){M.a.ajax({url:"http://localhost:8000/api/clientes/"+this.cliente.id,contentType:"application/json",dataType:"json",type:"delete",success:function(e){if(e){var t=this.state.clientes.filter(function(e){return e.id!==this.cliente.id}.bind(this));this.setState({clientes:t,mensagem:{visivel:!0,conteudo:"Cliente excluido com sucesso!",classCss:"success"},exclusao:!1})}}.bind(this),error:function(e){console.log(e),this.setState({mensagem:{visivel:!0,conteudo:"Ocorreu erro(s) ao tentar alterar um cliente!",classCss:"error"},exclusao:!1})}})}},{key:"obterCliente",value:function(e){this.cliente=e}},{key:"obterEndereco",value:function(e){this.cliente&&(this.cliente.endereco=e)}},{key:"obterConteudo",value:function(e){switch(e){case 0:default:return r.a.createElement(U,{clientes:this.state.clientes,novo:this.novo,editar:this.editar,excluir:this.excluir});case 1:return r.a.createElement(Z,{irParaStep:this.irParaStep,cliente:this.cliente,obter:this.obterCliente});case 2:return r.a.createElement($,{irParaStep:this.irParaStep,endereco:this.cliente.endereco,obter:this.obterEndereco,salvar:this.salvar})}}},{key:"render",value:function(){var e=this;return r.a.createElement(l.a,null,r.a.createElement(b.a,{in:this.state.mensagem.visivel,style:{marginTop:"20px"}},r.a.createElement(T.a,{severity:this.state.mensagem.classCss,onClose:function(){return e.setState({mensagem:{visivel:!1}})}},this.state.mensagem.conteudo)),r.a.createElement(f.a,{alternativeLabel:!0,activeStep:this.state.stepAtivo},r.a.createElement(g.a,{key:0},r.a.createElement(y.a,null,"Listagem")),r.a.createElement(g.a,{key:1},r.a.createElement(y.a,null,"Clientes")),r.a.createElement(g.a,{key:2},r.a.createElement(y.a,null,"Endere\xe7os"))),this.obterConteudo(this.state.stepAtivo),r.a.createElement(S.a,{open:this.state.exclusao,onClose:function(){return e.setState({exclusao:!1})}},r.a.createElement(x.a,null,"Deseja excluir o Cliente?"),r.a.createElement(j.a,null,r.a.createElement(k.a,null,"Por favor, confirme a exclus\xe3o do cliente.")),r.a.createElement(O.a,null,r.a.createElement(C.a,{onClick:this.confirmarExclusao,color:"primary"},"Confirmar"),r.a.createElement(C.a,{onClick:function(){return e.setState({exclusao:!1})},color:"primary",autoFocus:!0},"Cancelar"))))}}]),t}(n.Component);var ee=function(){return r.a.createElement(l.a,{maxWidth:"md"},r.a.createElement(s.a,{position:"static"},r.a.createElement(c.a,null,r.a.createElement(m.a,{variant:"h5",align:"center",style:{flexGrow:1}},"Cadastro de Clientes"))),r.a.createElement(_,null))};o.a.render(r.a.createElement(ee,null),document.getElementById("root"))},94:function(e,t,a){e.exports=a(115)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.7c39bdb3.chunk.js.map